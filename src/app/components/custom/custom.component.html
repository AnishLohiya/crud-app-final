<!-- <div class="toolbar">
  <div>
    <button mat-raised-button color="primary" (click)="openCreateModal()">
      Add Equity
    </button>
  </div>
  <div>
    <app-preset
      [apiUrl]="'http://localhost:8000/presets'"
      [getFilterModel]="getFilterModel.bind(this)"
      [getColumnState]="getColumnState.bind(this)"
      [setFilterModel]="setFilterModel.bind(this)"
      [applyColumnState]="applyColumnState.bind(this)"
      (clearFilters)="clearFilters()"
      (applyPreset)="onPresetApplied($event)"
    ></app-preset>
  </div>
  <div class="export-controls">
    <div class="export-item" (click)="onCsvExport()">
      <mat-icon
        aria-hidden="false"
        aria-label="CSV download icon"
        fontIcon="download"
      ></mat-icon>
      <p>CSV</p>
    </div>
    <div class="export-item" (click)="onExcelExport()">
      <mat-icon
        aria-hidden="false"
        aria-label="Excel download icon"
        fontIcon="download"
      ></mat-icon>
      <p>Excel</p>
    </div>
  </div>
  <mat-form-field>
    <mat-label>Column Search</mat-label>
    <input
      matInput
      type="search"
      placeholder="Search By Column"
      [matAutocomplete]="auto"
      (input)="onSearchColumn($event)"
    />
    <mat-autocomplete
      #auto="matAutocomplete"
      (optionSelected)="onColumnSelected($event)"
    >
      <mat-option *ngFor="let column of filteredList" [value]="column.colId">
        {{ column.colId }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>
</div> -->
<app-navbar
  [addButtonText]="'Add Equity'"
  [apiUrl]="'http://localhost:8000/presets'"
  [getFilterModel]="getFilterModel.bind(this)"
  [getColumnState]="getColumnState.bind(this)"
  [setFilterModel]="setFilterModel.bind(this)"
  [applyColumnState]="applyColumnState.bind(this)"
  [gridApi]="gridApi"
  [presetList]="presetList"
  [filteredList]="filteredList"
  (clearFilters)="clearFilters()"
  (applyPreset)="onPresetApplied($event)"
  (onCsvExport)="onCsvExport()"
  (onExcelExport)="onExcelExport()"
  (onAddClick)="openCreateModal()"
></app-navbar>

<ag-grid-angular
  style="height: 800px"
  class="ag-theme-quartz"
  [rowData]="equities"
  [gridOptions]="gridOptions"
  [columnDefs]="colDefs"
  [defaultColDef]="defaultColDef"
  [pagination]="pagination"
  [paginationPageSize]="paginationPageSize"
  [paginationPageSizeSelector]="paginationPageSizeSelector"
  [sideBar]="sideBar"
  [columnTypes]="columnTypes"
  (gridReady)="onGridReady($event)"
  [allowContextMenuWithControlKey]="true"
  [getContextMenuItems]="getContextMenuItems"
/>
